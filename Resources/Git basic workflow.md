[[git]][[Tech]]
# What is version control?

A version control system is a tool that manages changes made to the files and directories in a project. Many version control systems exist; this lesson focuses on one called Git, which is used by many of the data science tools covered in our other lessons. Its strengths are:

-   Nothing that is saved to Git is ever lost, so you can always go back to see which results were generated by which versions of your programs.
-   Git automatically notifies you when your work conflicts with someone else's, so it's harder (but not impossible) to accidentally overwrite work.
-   Git can synchronize work done by different people on different machines, so it scales as your team does.

Version control isn't just for software: books, papers, parameter sets, and anything that changes over time or needs to be shared can and should be stored and shared using something like Git

## 2 parts:

-   Files + directories created & edited dircevly
-   Metadata about the project's history
-   Combo of these is a repository

All metadata is stored in a directory called .git, located in the root directory of the repository. Git expects this information to be laid out in a precise way, so you should never edit or delete anything in .git

When you are using Git, you will frequently want to check the status of your repository. To do this, run the command:

 `git status`

`git status` shows you which files are in this staging area, and which files have changes that haven't yet been put there. In order to compare the file as it currently is to what you last saved, you can use git diff filename. git diff without any filenames will show you all the changes in your repository, while `git diff directory` will show you the changes to the files in some directory.

`$ git diff 
diff ——git a/data/northern. csv b/data/northern. csv 
index 5eb7a96. .5a2a259 100644 
--- a/ data/ northern. csv 
+++ b/data/northern. csv 
@@ -22,3 +22,4 @@ Date , Tooth 
2017-08—13, incisor 
2017-08—13, wisdom 
2017-09—07 , molar 
+2017-11-01, bicuspid
`
# What is in a diff?

A diff is a formatted display of the differences between two sets of files. Git displays diffs like this:

`diff --git a/report.txt b/report.txt  
index e713b17..4c0742a 100644  
--- a/report.txt  
+++ b/report.txt  
@@ -1,4 +1,5 @@  
-# Seasonal Dental Surgeries 2017-18  
+# Seasonal Dental Surgeries (2017) 2017-18  
+# TODO: write new summary`

This shows:

-   The command used to produce the output (in this case, diff --git). In it, a and b are placeholders meaning "the first version" and "the second version".
-   An index line showing keys into Git's internal database of changes. We will explore these in the next chapter.
-   --- a/report.txt and +++ b/report.txt, wherein lines being removed are prefixed with - and lines being added are prefixed with +.
-   A line starting with @@ that tells where the changes are being made. The pairs of numbers are start line and number of lines (in that section of the file where changes occurred). This diff output indicates changes starting at line 1, with 5 lines where there were once 4.
-   A line-by-line listing of the changes with - showing deletions and + showing additions (we have also configured Git to show deletions in red and additions in green). Lines that haven't changed are sometimes shown before and after the ones that have in order to give context; when they appear, they don't have either + or - in front of them.

Desktop programming tools like [RStudio](https://www.rstudio.com/) can turn diffs like this into a more readable side-by-side display of changes; you can also use standalone tools like [DiffMerge](https://sourcegear.com/diffmerge/) or [WinMerge](http://winmerge.org/).

To compare the state of your files with those in the staging area, you can use git diff -r HEAD. The -r flag means "compare to a particular revision", and HEAD is a shortcut meaning "the most recent commit".

You can restrict the results to a single file or directory using git diff -r HEAD path/to/file, where the path to the file is relative to where you are (for example, the path from the root directory of the repository).

# Commit Changes

To save the changes in the staging area, you use the command git commit. It always saves everything that is in the staging area as one unit: as you will see later, when you want to undo changes to a project, you undo all of a commit or none of it.

When you commit changes, Git requires you to enter a log message. This serves the same purpose as a comment in a program: it tells the next person to examine the repository why you made a change.

By default, Git launches a text editor to let you write this message. To keep things simple, you can use -m "some message in quotes" on the command line to enter a single-line message like this:

`git commit -m "Program appears to have become self-aware."
`
If you accidentally mistype a commit message, you can change it using the --amend flag.

`git commit --amend - m "new message"`

The command git log is used to view the log of the project's history. Log entries are shown most recent first, and look like this:

`commit 0430705487381195993bac9c21512ccfb511056d  
Author: Rep Loop <repl@datacamp.com>  
Date: Wed Sep 20 13:42:26 2017 +0000

Added year to report title.`

# View a repo's history

The commit line displays a unique ID for the commit called a hash; we will explore these further in the next chapter. The other lines tell you who made the change, when, and what log message they wrote for the change.

When you run git log, Git automatically uses a pager to show one screen of output at a time. Press the space bar to go down a page or the 'q' key to quit.

You are in the directory dental, which is a Git repository. Use a single Git command to view the repository's history. What is the message on the very first entry in the log (which is displayed last)?

Keep in mind that not all entries may be visible on the first screen, and that you might need to check additional pages to see the very first entry.