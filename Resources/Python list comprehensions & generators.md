[[Python]] [[Python iterators]]
# List comprehensions
- create lists from other iterables in a single line of code
- **Much more efficient than using a for loop**
`result = [num + 1 for num in range(10)]`
- collapse for loops for building lists into a single line
- components
    - iterable
    - iterator variable (represent members of iterable)

## nested loops via list comprehension
```python
result = [(num1, num2) for num1 in range(0,2) for num2 in range(6,8)]
------------
[(0,6), (0,7), (1,6), (1,7)]
```
- tradeoff: readability

```python
# Create a 5 x 5 matrix using a list of lists: matrix
matrix = [[col for col in range(5)] for row in range(5)]

# Print the matrix
for row in matrix:
    print(row)
```

## Conditions in comprehensions
##### set conditions on the iterable:
`[num ** 2 for num in range(10) if num % 2 == 0]`
##### set conditions on the output:
`[num ** 2 if num % 2 == 0 else 0 for num in range(10)]`

##### Dict comprehensions
- use `{}` instead of `[]`:
```python
# Create a list of strings: fellowship
fellowship = ['frodo', 'samwise', 'merry', 'aragorn', 'legolas', 'boromir', 'gimli']

# Create dict comprehension: new_fellowship
new_fellowship = {member:len(member) for member in fellowship}
```

# Generator expressions
- use `()` instead of `[]`
- returns an iterable `<class 'generator'>` object
- lazy evaluation - evaluation is delayed until its value is needed
    - can be very useful for processing big data
## generator functions
- produce generator functions when called
- defined like a regular function - `def`
- yields a sequence of values instead of returning a single value
- generates a value with `yield` keyword
```python
# Create a list of strings
lannister = ['cersei', 'jaime', 'tywin', 'tyrion', 'joffrey']

# Define generator function get_lengths
def get_lengths(input_list):
    """Generator function that yields the
    length of the strings in input_list."""

    # Yield the length of a string
    for person in input_list:
        yield len(person)

# Print the values generated by get_lengths()
for value in get_lengths(lannister):
    print(value)
```